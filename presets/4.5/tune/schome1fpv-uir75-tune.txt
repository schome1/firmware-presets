#$ TITLE: Schome1FPV - UIR75 TUNE
#$ FIRMWARE_VERSION: 4.5
#$ CATEGORY: TUNE
#$ STATUS: EXPERIMENTAL
#$ KEYWORDS: uir, uir75, 40mm, whoop
#$ AUTHOR: Schome1FPV (Mike Schommer)
#$ DESCRIPTION: Presets for the UIR75 drone tune.

# power and battery
set vbat_scale  = 112
set ibata_scale = 170




# dynamic idle = (15000 / <prop size in inches>) / 100)
# - bluejay esc devs recommend to avoid using dynamic idle on 1S and 2S builds
# set dyn_idle_min_rpm = 95




# thrust linear = (<esc pwm frequency> >= 96 ? 40 : (userValue <= 24 ? 0 : 20));
set thrust_linear = 20

#$ OPTION_GROUP BEGIN: Choose ONE ESC PWM Frequency
    #$ OPTION BEGIN (UNCHECKED): 24 Hz
        set thrust_linear = 0
    #$ OPTION END
    
    #$ OPTION BEGIN (CHECKED): 48 Hz
        set thrust_linear = 20
    #$ OPTION END
    
    #$ OPTION BEGIN (UNCHECKED): 96 Hz
        set thrust_linear = 40
    #$ OPTION END
#$ OPTION_GROUP END




set simplified_gyro_filter_multiplier = 60

set motor_pwm_protocol = DSHOT300
set motor_poles = 12
set dshot_bidir = ON
set rpm_filter_harmonics = 2

set acc_lpf_hz = 10

set dyn_notch_count = 2
set dyn_notch_max_hz = 700

set gyro_lpf1_static_hz = 150
set gyro_lpf2_static_hz = 300
set gyro_lpf1_dyn_min_hz = 150
set gyro_lpf1_dyn_max_hz = 300

set pid_process_denom = 4

set dterm_lpf1_dyn_min_hz = 90
set dterm_lpf1_dyn_max_hz = 180
set dterm_lpf1_static_hz = 90
set dterm_lpf2_static_hz = 180
set vbat_sag_compensation = 100
set anti_gravity_gain = 90
set iterm_relax_cutoff = 5
set pidsum_limit = 1000
set pidsum_limit_yaw = 1000
set yaw_lowpass_hz = 125

set p_pitch = 65
set i_pitch = 116
set d_pitch = 61
set f_pitch = 247
set p_roll = 56
set i_roll = 100
set d_roll = 54
set f_roll = 216
set p_yaw = 56
set i_yaw = 100
set f_yaw = 216

set d_min_roll = 54
set d_min_pitch = 61

set simplified_master_multiplier = 180
set simplified_pi_gain = 70
set simplified_dmax_gain = 0
set simplified_pitch_pi_gain = 110
set simplified_dterm_filter_multiplier = 120




# these are set in my personal default presets - keeping them here in case I want to change where battery size is set
# set bat_capacity = 300

# - osd capacity alarm = <battery capacity mah> * 0.70
# set osd_cap_alarm = 210

#$ OPTION_GROUP BEGIN: Choose ONE Battery Capacity
    #$ OPTION BEGIN (CHECKED): 300 mAh
        set bat_capacity = 300

        # osd capacity alarm = <battery capacity mah> * 0.70
        set osd_cap_alarm = 210
    #$ OPTION END

    #$ OPTION BEGIN (UNCHECKED): 350 mAh
        set bat_capacity = 350

        # osd capacity alarm = <battery capacity mah> * 0.70
        set osd_cap_alarm = 245
    #$ OPTION END
    
    #$ OPTION BEGIN (UNCHECKED): 380 mAh
        set bat_capacity = 380

        # osd capacity alarm = <battery capacity mah> * 0.70
        set osd_cap_alarm = 266
    #$ OPTION END

    #$ OPTION BEGIN (UNCHECKED): 400 mAh
        set bat_capacity = 400

        # osd capacity alarm = <battery capacity mah> * 0.70
        set osd_cap_alarm = 280
    #$ OPTION END    
#$ OPTION_GROUP END




# barometer
# - unused, disabled
set baro_hardware = NONE
